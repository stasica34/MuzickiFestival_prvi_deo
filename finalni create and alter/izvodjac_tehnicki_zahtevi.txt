CREATE TABLE IZVODJAC_TEHNICKI_ZAHTEVI
(
    "IZVODJAC_ID" NUMBER,
    "ZAHTEV" VARCHAR2(200 BYTE)
)

//sekvence//

CREATE SEQUENCE IZVODJAC_TEHNICKI_ZAHTEVI_PK 
START WITH 1 INCREMENT BY 1 NOCACHE;

//keys i null//

ALTER TABLE IZVODJAC_TEHNICKI_ZAHTEVI MODIFY ("IZVODJAC_ID" NOT NULL);
ALTER TABLE IZVODJAC_TEHNICKI_ZAHTEVI MODIFY ("ZAHTEV" NOT NULL);

ALTER TABLE IZVODJAC_TEHNICKI_ZAHTEVI 
ADD CONSTRAINT "FK_IZVODJAC_ZAHTEVI" FOREIGN KEY ("IZVODJAC_ID")
REFERENCES IZVODJAC ("ID") ON DELETE CASCADE;

//constraints//

ALTER TABLE IZVODJAC_TEHNICKI_ZAHTEVI 
ADD CONSTRAINT "CHK_IZVODJAC_ZAHTEV" CHECK (
    LENGTH(TRIM(ZAHTEV)) > 0 
    AND REGEXP_LIKE(TRIM(ZAHTEV), '^[A-Za-zčćšđžČĆŠĐŽ0-9\s]+$')
);
