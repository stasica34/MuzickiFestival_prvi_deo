CREATE TABLE ULAZNICA
(
    "DATUM_KUPOVINE" DATE,
    "OSNOVNA_CENA" NUMBER(10,2),
    "NACIN_PLACANJA" VARCHAR2(50 BYTE),
    "DOGADJAJ_ID" NUMBER,
    "TIP_ULAZNICE" VARCHAR2(20 BYTE),
    "ID_ULAZNICE" NUMBER,
    "KUPAC_ID" NUMBER
);

//sekvenca//
CREATE SEQUENCE ULAZNICA_PK START WITH 1 INCREMENT BY 1 NOCACHE;

//keys i null//

ALTER TABLE ULAZNICA MODIFY ("ID_ULAZNICE" NOT NULL);
ALTER TABLE ULAZNICA MODIFY ("DATUM_KUPOVINE" NOT NULL);
ALTER TABLE ULAZNICA MODIFY ("OSNOVNA_CENA" NOT NULL);
ALTER TABLE ULAZNICA MODIFY ("NACIN_PLACANJA" NOT NULL);
ALTER TABLE ULAZNICA MODIFY ("DOGADJAJ_ID" NOT NULL);
ALTER TABLE ULAZNICA MODIFY ("TIP_ULAZNICE" NOT NULL);
ALTER TABLE ULAZNICA MODIFY ("KUPAC_ID" NOT NULL);ALTER TABLE ULAZNICA ADD CONSTRAINT "ULAZNICA_FK1" FOREIGN KEY ("DOGADJAJ_ID")
    REFERENCES DOGADJAJ ("ID") ON DELETE CASCADE;
ALTER TABLE ULAZNICA ADD CONSTRAINT "ULAZNICA_FK2" FOREIGN KEY ("KUPAC_ID")
    REFERENCES POSETILAC ("ID") ON DELETE CASCADE;

//constraints//

ALTER TABLE ULAZNICA ADD CONSTRAINT "ULAZNICA_PK" PRIMARY KEY ("ID_ULAZNICE");
ALTER TABLE ULAZNICA ADD CONSTRAINT "CK_ULAZNICA_CENA" CHECK (OSNOVNA_CENA >= 0);
ALTER TABLE ULAZNICA ADD CONSTRAINT "CK_TIP_ULAZNICE" CHECK (TIP_ULAZNICE IN ('JEDNODNEVNA', 'VISEDNEVNA', 'VIP', 'AKREDITACIJA'));ALTER TABLE ULAZNICA ADD CONSTRAINT "CK_ULAZNICA_NACIN_PLACANJA" CHECK (NACIN_PLACANJA IN ('Gotovina', 'Kartica', 'Online'));